import {
  extend,
  nodeOrNew,
  register,
  wrapWithAttrCheck
} from 'svg.js/src/utils/adopter.js'
import { registerMethods } from 'svg.js/src/utils/methods.js'
import PointArray from 'svg.js/src/types/PointArray.js'
import Shape from 'svg.js/src/elements/Shape.js'
import * as pointed from 'svg.js/src/modules/core/pointed.js'
import * as poly from 'svg.js/src/modules/core/poly.js'

export default class Polyline extends Shape {
  // Initialize node
  constructor (node) {
    super(nodeOrNew('polyline', node), node)
  }
}

registerMethods({
  Container: {
    // Create a wrapped polygon element
    polyline: wrapWithAttrCheck(function (p) {
      // make sure plot is called as a setter
      return this.put(new Polyline()).plot(p || new PointArray())
    })
  }
})

extend(Polyline, pointed)
extend(Polyline, poly)
register(Polyline, 'Polyline')
