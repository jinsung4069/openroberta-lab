import { adopt } from 'svg.js/src/utils/adopter.js'
import { globals } from 'svg.js/src/utils/window.js'
import { map } from 'svg.js/src/utils/utils.js'
import List from 'svg.js/src/types/List.js'

export default function baseFind (query, parent) {
  return new List(map((parent || globals.document).querySelectorAll(query), function (node) {
    return adopt(node)
  }))
}

// Scoped find method
export function find (query) {
  return baseFind(query, this.node)
}

export function findOne (query) {
  return adopt(this.node.querySelector(query))
}
